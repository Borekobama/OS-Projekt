<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Distributed Operations &amp; Sort Demo</title>

  <!-- Google Font -->
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
    rel="stylesheet"
  />

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">

    <!-- Main diagram area -->
    <div id="diagram-container">
      <svg id="connections"></svg>
      <div id="center" class="node">
        <div class="node-circle center-circle">
          <img src="computer.png" alt="Center" />
        </div>
        <div class="node-label">Center</div>
      </div>
      <div id="workers-container"></div>
    </div>

    <!-- Control panel -->
    <div id="control-panel">
      <h2>Administrator Panel</h2>

      <!-- Algorithm selector -->
      <div class="panel-section">
        <label for="algorithm-select"><strong>Algorithm:</strong></label>
        <select id="algorithm-select">
          <option value="">(loadingâ€¦)</option>
        </select>
      </div>

      <!-- Operation selector -->
      <div class="panel-section">
        <label><strong>Operation:</strong></label>
        <div id="operation-buttons">
          <button class="btn op-btn" data-op="SUM">SUM</button>
          <button class="btn op-btn" data-op="MIN">MIN</button>
          <button class="btn op-btn" data-op="MAX">MAX</button>
          <button class="btn op-btn" data-op="SORT">SORT</button>
        </div>
      </div>

      <!-- Array length + Generate Array -->
      <div class="panel-section">
        <label for="array-length"><strong>Array Length:</strong></label>
        <div style="display: flex; align-items: center; gap: 8px;">
          <input
            type="number"
            id="array-length"
            min="1"
            value="1000"
            style="width: 100px;"
          />
          <button
            id="generate-array-btn"
            class="btn"
            style="white-space: nowrap; width: 160px;"
          >
            Generate Array
          </button>
        </div>
      </div>

      <!-- Custom array input -->
      <div class="panel-section">
        <label for="custom-array"><strong>Custom Array:</strong></label>
        <input
          type="text"
          id="custom-array"
          placeholder="[1,2,3,4]"
          style="height: calc(1.5em + 12px);"
        />
      </div>

      <!-- Distribute Array -->
      <div class="panel-section">
        <button id="distribute-array-btn" class="btn">Distribute Array</button>
      </div>

      <!-- Start Operation -->
      <div class="panel-section">
        <button id="start-operation-btn" class="btn">Start Operation</button>
      </div>

      <hr />

      <!-- Choose Coordinator dropdown -->
      <div class="panel-section">
        <label for="coordinator-select"><strong>Choose Coordinator:</strong></label>
        <select id="coordinator-select">
          <option value="">(none)</option>
        </select>
      </div>

      <!-- Add Worker button -->
      <div class="panel-section">
        <button id="add-worker-btn" class="btn">Add Worker</button>
      </div>

      <!-- Worker list -->
      <div id="workers-list"></div>

      <hr />

      <!-- Log Viewer -->
      <div class="panel-section">
        <label>
          <input type="checkbox" id="toggle-logs" />
          Show Logs
        </label>
      </div>
      <div id="log-container" style="display: none;">
        <div id="log-output" class="log-container"></div>
      </div>
    </div>

  </div>

  <!-- Socket.io client library -->
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <!-- Main JavaScript -->
  <script src="connection.js"></script>
  <script src="coordinator.js"></script>
  <script src="main.js"></script>
  <script src="worker.js"></script>
</body>
</html>
